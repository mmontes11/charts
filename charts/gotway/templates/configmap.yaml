apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "gotway.fullname" . }}
  labels:
    {{ include "gotway.labels" . | nindent 4 }}
data:
  PORT: {{ .Values.service.interalPort | quote }}
  DATABASE: {{ .Values.databaseType }}
  ENV: {{ .Values.env }}
  REDIS_SERVER: {{ .Values.redisConfig.address }}
  REDIS_DATABASE: {{ .Values.redisConfig.db | quote }}
  HEALTH_CHECK_INTERVAL_SECONDS: {{ .Values.healthCheck.intervalSeconds | quote }}
  HEALTH_CHECK_TIMEOUT_SECONDS: {{ .Values.healthCheck.timeoutSeconds | quote }}
  TLS: {{ .Values.tlsEnabled | quote }}
  {{ if .Values.tlsEnabled }}
  TLS_CERT: "/etc/ssl/tls.crt"
  TLS_KEY: "/etc/ssl/tls.key"
  {{ end }}